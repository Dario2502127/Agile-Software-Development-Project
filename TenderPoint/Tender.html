<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TenderPoint — Open Tenders & Bids</title>
  <meta name="description" content="Find, publish and manage public and private tenders. TenderPoint helps buyers and suppliers connect quickly and securely." />
  <meta name="theme-color" content="#0b6efd" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">TP</div>
        <div>
          <h1>TenderPoint</h1>
          <p>Discover & manage tenders</p>
        </div>
      </div>

      <nav aria-label="Primary">
        <a class="nav-link" href="#About">About</a>
        <a class="nav-link" href="#Contact">Contact</a>
        <a class="cta" id="auth-link" href="login.html">Sign In</a>
      </nav>
    </header>

    <section class="hero" role="region" aria-labelledby="hero-title">
      <div class="hero-left">
        <h2 id="hero-title">Find the right tenders. Win the right bids.</h2>
        <p>Search public and private procurement opportunities, filter by sector, region and value, and get automated alerts for tenders that match your profile.</p>

        <form class="searchbar" role="search" aria-label="Search tenders" onsubmit="event.preventDefault(); applySearch();">
          <input id="q" type="search" placeholder="Search tenders, keywords, or reference " aria-label="Search" />
          <button class="btn" type="submit">Search</button>
        </form>

        <div class="stats" aria-hidden="true">
          <div class="stat">
            <strong id="total-tenders">1,246</strong>
            <span>Active tenders</span>
          </div>
          <div class="stat">
            <strong>4,812</strong>
            <span>Suppliers</span>
          </div>
        </div>
      </div>

      <aside class="right-col card">
        <div class="filters">
          <label for="sector">Sector</label>
          <select id="sector">
            <option value="">All sectors</option>
            <option>Construction</option>
            <option>IT & Software</option>
            <option>Healthcare</option>
            <option>Education</option>
          </select>

          <label for="value">Estimated value</label>
          <select id="value">
            <option value="">Any value</option>
            <option>&lt; 50k</option>
            <option>50k - 500k</option>
            <option>&gt; 500k</option>
          </select>

          <label for="type">Type</label>
          <select id="type">
            <option value="">Any type</option>
            <option>Open</option>
            <option>Direct Award</option>
          </select>

          <div class="quick-actions">
            <button class="btn" onclick="applySearch()">Apply filters</button>
          </div>
        </div>
      </aside>
    </section>

    <section class="tender-list">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
        <h3 style="margin:0">Latest tenders</h3>
        <div style="color:var(--muted);font-size:0.95rem">Sorted by closing date</div>
      </div>

      <div class="card">
        <table aria-describedby="tender-table-desc">
          
          <thead>
            <tr>
              <th>Title</th>
              <th>Sector</th>
              <th>Value</th>
              <th>Closing</th>
              <th>Status</th>
              <th>Established</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="tenders-body">
            <!-- JavaScript will populate rows -->
          </tbody>
        </table>
      </div>

    </section>

    <footer>
      <div>© <span id="year"></span> TenderPoint — Trusted procurement.</div>
      <div style="display:flex;gap:18px;align-items:center">
        <a class="nav-link" href="#privacy">Privacy</a>
        <a class="nav-link" href="#terms">Terms</a>
      </div>
    </footer>

  </main>

  <script>
    // Demo dataset — replace with live API calls
    const demoTenders = [
      {id:1, title:'Supply of IT infrastructure for regional hospitals', sector:'Healthcare', value:'€600,000', closing:'2025-10-02', status:'Open', Established:'2025-09-01'},
      {id:2, title:'Road maintenance and resurfacing — County B', sector:'Construction', value:'€180,000', closing:'2025-09-30', status:'Open', Established:'2025-09-01'},
      {id:3, title:'Cloud migration services', sector:'IT & Software', value:'€75,000', closing:'2025-09-28', status:'Closed', Established:'2025-08-11'},
      {id:4, title:'Consultancy for energy audit', sector:'Consulting', value:'€24,000', closing:'2025-09-25', status:'Closed', Established:'2025-08-01'},
      {id:5, title:'Supply of PPE and medical consumables', sector:'Healthcare', value:'€140,000', closing:'2025-10-12', status:'Open', Established:'2025-09-10'},
    ];

    function renderTenders(list){
      const tbody = document.getElementById('tenders-body');
      tbody.innerHTML = '';
      list.forEach(t => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>
            <div class="title">${escapeHtml(t.title)}</div>
            <div class="meta">Ref: TH-${t.id.toString().padStart(5,'0')}</div>
          </td>
          <td>${escapeHtml(t.sector)}</td>
          <td>${escapeHtml(t.value)}</td>
          <td>${formatDate(t.closing)}</td>
          <td><span class="badge ${badgeClass(t.status)}">${escapeHtml(t.status)}</span></td>
          <td>${formatDate(t.Established)}</td>
          <td><a class="cta" href="#view-${t.id}">View</a></td>
        `;
        tbody.appendChild(tr);
      });
    }

    function badgeClass(status){
      if(status.toLowerCase().includes('open')) return 'badge-open';
      if(status.toLowerCase().includes('closed')) return 'badge-closed';
      if(status.toLowerCase().includes('award')) return 'badge-awarded';
      return '';
    }

    function formatDate(d){
      try{
        const dd = new Date(d + 'T00:00:00');
        return dd.toLocaleDateString(undefined, {year:'numeric',month:'short',day:'numeric'});
      }catch(e){return d}
    }

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, function(c){
        return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[c];
      });
    }

    function applySearch(){
      const q = (document.getElementById('q').value || '').toLowerCase().trim();
      const region = document.getElementById('region').value;
      const sector = document.getElementById('sector').value;
      const value = document.getElementById('value').value;
      const type = document.getElementById('type').value;


      // For the demo, simple filtering on title and sector
      let filtered = demoTenders.filter(t => {
        if(q && !(t.title.toLowerCase().includes(q) || ('TH-'+String(t.id).padStart(5,'0')).toLowerCase().includes(q))) return false;
        if(sector && t.sector !== sector) return false;
        // value and type filters are not mapped to demo data — placeholder
        return true;
      });

      renderTenders(filtered);
    }

    // Initialize
    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('total-tenders').textContent = demoTenders.length;
    renderTenders(demoTenders);
  </script>
</body>
</html>
